CREATE DATABASE munzii;
USE munzii;
CREATE TABLE themes(
t_id INT(11) NOT NULL AUTO_INCREMENT,
t_name VARCHAR(50) NOT NULL,
PRIMARY KEY(t_id));
CREATE TABLE fonts(
f_id INT(11) NOT NULL AUTO_INCREMENT,
f_name VARCHAR(50) NOT NULL,
PRIMARY KEY(f_id));
CREATE TABLE start_days(
s_id INT(11) NOT NULL AUTO_INCREMENT,
s_day VARCHAR(50) NOT NULL,
PRIMARY KEY(s_id));
CREATE TABLE users(
u_id INT(11) NOT NULL AUTO_INCREMENT,
username VARCHAR(50) NOT NULL,
password VARCHAR(50) NOT NULL,
optional_password INT,
theme_id INT,
font_id INT,
start_day_id INT,
FOREIGN KEY(theme_id) REFERENCES themes (t_id),
FOREIGN KEY(font_id) REFERENCES fonts (f_id),
FOREIGN KEY(start_day_id) REFERENCES start_days (s_id),
PRIMARY KEY(u_id));
CREATE TABLE todos(
id INT(11) NOT NULL AUTO_INCREMENT,
date DATE NOT NULL,
created_at DATETIME DEFAULT NOW(),
title VARCHAR(50) NOT NULL,
time BOOL,
start_time TIME,
end_time TIME,
user_id INT,
PRIMARY KEY(id),
FOREIGN KEY(user_id) REFERENCES users (u_id));
CREATE TABLE memos(
id INT(11) NOT NULL AUTO_INCREMENT,
date DATE NOT NULL,
created_at DATETIME DEFAULT NOW(),
content TEXT,
user_id INT,
PRIMARY KEY(id),
FOREIGN KEY(user_id) REFERENCES users (u_id));
DESC users;
DESC todos;
DESC memos;
DESC themes;
DESC fonts;
DESC start_days;
INSERT INTO themes VALUES(0, '기본');
INSERT INTO themes VALUES(0, '분홍');
INSERT INTO themes VALUES(0, '파랑');
INSERT INTO themes VALUES(0, '초록');
INSERT INTO fonts VALUES(0, '기본');
INSERT INTO fonts VALUES(0, '맑은 고딕');
INSERT INTO start_days VALUES(0, '월요일');
INSERT INTO start_days VALUES(0, '화요일');
INSERT INTO start_days VALUES(0, '수요일');
INSERT INTO start_days VALUES(0, '목요일');
INSERT INTO start_days VALUES(0, '금요일');
INSERT INTO start_days VALUES(0, '토요일');
INSERT INTO start_days VALUES(0, '일요일');
INSERT INTO users VALUES(0, 'wlgud', 'aaa', NULL, 1, 1, 1);
INSERT INTO users VALUES(0, 'tmfrl', 'aaa', '1234', 1, 2, 7);
INSERT INTO users VALUES(0, 'wnsrud', 'a123', '1234', 3, 2, 3);
INSERT INTO todos VALUES(0, '2021-04-17', DEFAULT, '필라테스', true, '10:00:00', '11:00:00', 1);
INSERT INTO todos VALUES(0, '2021-04-17', DEFAULT, '크로스핏', true, '12:00:00', '13:40:00', 1);
INSERT INTO todos VALUES(0, '2021-04-17', DEFAULT, '물 4잔 마시기', false, NULL, NULL, 1);
INSERT INTO todos VALUES(0, '2021-04-25', DEFAULT, '춤추기', false, NULL, NULL, 2);
INSERT INTO todos VALUES(0, '2021-04-25', DEFAULT, '아침 독서', true, '06:00:00', '07:10:00', 2);
INSERT INTO memos VALUES(0, '2021-04-17', DEFAULT, '안녕하세요 저는 권지형입니다. 저는 디비좋아요 서버도 좋아요 놀러가고 싶어요 오늘 날씨 좋아요 가나다라마바사아자차카타파하!',1);
INSERT INTO memos VALUES(0, '2021-04-18', DEFAULT, '안녕하세요 저는 권지형입니다. 저는 디비좋아요 서버도 좋아요 놀러가고 싶어요 오늘 날씨 좋아요 가나다라마바사아자차카타파하 동해물과 백두산이 마르고 닳도록 하느님이 보우하사 우리나라 만세 무궁화 삼천리 화려 강산 대한사람 대한으로 길이 보전하세 !',1);
INSERT INTO memos VALUES(0, '2021-04-25', DEFAULT, '안녕하세요 저는 이슬기 입니다. 저는 화성에서 왔습니다. 안녕하신가 안녕안녕 날씨 좋아서 놀러가고 싶네요 코딩잘하고 싶다 화이팅 안녕~!',2);
INSERT INTO memos VALUES(0, '2021-04-26', DEFAULT, 'ㅎㅇ 2021-04-26 메모!',2);
SELECT * FROM users LEFT JOIN themes ON users.theme_id = themes.t_id;
SELECT * FROM users LEFT JOIN themes ON users.theme_id = themes.t_id LEFT JOIN fonts ON users.font_id = fonts.f_id LEFT JOIN start_days ON users.start_day_id = start_days.s_id;
SELECT u_id, username, password, optional_password, themes.t_name, fonts.f_name, start_days.s_day FROM users LEFT JOIN themes ON users.theme_id = themes.t_id LEFT JOIN fonts ON users.font_id = fonts.f_id LEFT JOIN start_days ON users.start_day_id = start_days.s_id;